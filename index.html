<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Bestop Soft Top Wizard</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

		<!-- jQuery UI CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.theme.min.css">
		
		<!-- Latest compiled and minified Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
		
		<!--Project CSS stylesheet-->
        <link rel="stylesheet" href="css/main.css">
		
		<!--Bootstrap Toggle CSS stylesheet-->
		<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">

        <style>
            body {
                margin: 0;
				padding: 0;
            }
			
			button {
				text-decoration: none;
			}
			
			.checkbox{
				margin:10px 0 0 30px;
			}
			
			#headingOne{
				background-image:url("img/header1.jpg");
			}
			
			#headingTwo{
				background-image:url("img/header2.jpg");
			}
			
			#headingThree{
				background-image:url("img/header3.jpg");
			}
			
			#headingFour{
				background-image:url("img/header4.jpg");
			}
			
			#headingFive{
				background-image:url("img/header5.jpg");
			}
			
			/* Bootstrap Toggle v2.2.2 corrections for Bootstrap 4*/
			.toggle-off {
				box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
			}
			.toggle.off {
				border-color: rgba(0, 0, 0, .25);
			}

			.toggle-handle {
				background-color: white;
				border: thin rgba(0, 0, 0, .25) solid;
			}
			
			.slidercontainer{
				width:100%;
				border:1px solid black;
				margin:10px 0;
			}
			
			.slidertextholder li{
				float:left;
				list-style-type:none;
				margin:0 20px;
			}
			
			.card-body{
			min-height:100px!important;
			}
			
			#btnSelectionUpdate{
				margin:20px;
			}
			
        </style>
		
		<!--jQuery JS-->
		<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
		
		<!--jQuery UI JS-->
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
		
		<!-- JS Popper-->
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

		<!--Bootstrap JS-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js"></script>
		
		<!--Bootstrap toggle-->
		<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
		
		<!--Local JS-->
        <script src="js/main.js"></script>


    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    
    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Select Your Perfect Soft Top!</h1>
        <p>Let us help you find that perfect soft top.  Answer a few easy questions and we'll recommend two top that will ...</p>
       </div>
    </div>

    <div class="container">
		<div id="accordion">
			<!-- Question 1-->
			<div class="card">
				<div class="card-header" id="headingOne">
					<h5 class="mb-0">
						<div class="" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
							Do you have a hard top now?
						</div>
					</h5>
				</div>

				<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
					<div class="card-body">
						<div class="checkbox">
							<label>
								<input type="checkbox" checked id="hardtoptoggle" data-toggle="toggle" data-on="Yes" data-off="No" data-onstyle="primary" data-offstyle="primary">
								
							</label>
						</div>
					</div><!-- /card-body-->
				</div>
			</div><!-- /card-->
		  
			<!--Question 2-->
			<div class="card">
				<div class="card-header" id="headingTwo">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
							What style of top do you prefer?
						</div>
					</h5>
				</div>
				
				<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
					<div class="card-body">
						<div class="checkbox">
							<label>
								<input type="checkbox" checked id="styletoggle" data-toggle="toggle" data-on="Traditional" data-off="Slant-back" data-onstyle="primary" data-offstyle="primary" data-width="120">
								
							</label>
						</div>
					</div>
				</div>
			</div>
		  
			<!--Question 3-->
			<div class="card">
				<div class="card-header" id="headingThree">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
							How do you drive your Jeep?
						</div>
					</h5>
				</div>
				<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
					<div class="card-body">
						<div id="howdrivejeepslidercontainer" class="slidercontainer"></div>
						<div id="howdrivejeepslidertextholder">
							<span style="text-align:left; width:33%;float:left">Daily Driver</span>
							<span style="text-align:center; width:33%;float:left">Weekend Vehicle</span>
							<span style="text-align:right; width:33%;float:left">Offroad Only</span>
						</div>
						
					</div>
				</div>
			</div><!-- /card-->

			<!--Question 4-->
			<div class="card">
				<div class="card-header" id="headingFour">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
							How important is it to you to fully open the soft top?
						</div>
					</h5>
				</div>
				<div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
					<div class="card-body">
						<div id="convertibilitylidercontainer" class="slidercontainer"></div>
							<span style="text-align:left; width:33%;float:left">Not Important</span>
							<span style="text-align:center; width:33%;float:left">I might take the roof off occasionally</span>
							<span style="text-align:right; width:33%;float:left">It has to fold down!</span>
						</div>
					</div>
				</div>
			</div><!-- /card-->

			<!--Question 5-->
			<div class="card">
				<div class="card-header" id="headingFive">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
							Which region/climate do you live in?
						</div>
					</h5>
				</div>
				<div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordion">
					<div class="card-body">
						Which region/climate do you live in?
						<label class="checkbox-inline"><input type="checkbox" name ="climate" value="hothumid">Hot/Humid</label>
						<label class="checkbox-inline"><input type="checkbox" name ="climate"value="coldsnowy">Cold/Snowy</label>
						<label class="checkbox-inline"><input type="checkbox" name ="climate"value="rainy">Rainy</label>
					</div>
				</div>
			</div><!-- /card-->
		</div><!-- /accordion-->
		
		<button id="btnSelectionUpdate" type="button" class="btn">Submit</button>
		
		<p>Here are your soft-top choices customized just for you:<p>
		<!--results container-->
		<div id="resultscontainer">
			
		</div><!--/resultscontainer-->
    </div> <!-- /container -->        
	<script>	
	
	//Soft Top array positions - 0 = SFHT; 1 = TTPro; 2 = TTGlide; 3 = TTPlus; 4 = SNX
	//define style
	//define slant-back array
	//var slantbackArray = [0,6,10,9,1];
	var slantbackArray = [0,9,15,13,2];
	//define traditional array
	//var traditionalArray = [9,4,1,0,10];
	var traditionalArray = [13,6,2,0,15];
	
	//drive type
	//var daily driver array
	var dailydriverArray = [10,9,5,3,7];
	//var weekender array
	var weekenderArray = [0,5,7,8,6];
	//var offroader array
	var offroaderArray = [-5,1,4,8,9];
	
	//open air
	//var open air - not important array
	var convertibilitynotimportantArray = [0,0,1,1,1];
	//var open air - occasionally array
	var convertibilityoccasionallyArray = [-7,3,8,4,7];
	//var open air - must have array
	var convertibilitymusthaveArray = [-10,0,15,0,13];
	
	//climate/geography
	//var climate - I want to be comfortable year-round
	var climatecomfortable = [0,0,0,0,0];
	//var climate - I'm OK with some hot/cold/rain/snow
	var climatesomeweather = [0,0,0,0,0];
	//var climate - I don't care if I experience weather extremes
	var climateextreme = [0,0,0,0,0];
	
	$(document).ready(function(){
		//How Do You Drive Your Jeep slider setup
		$("#howdrivejeepslidercontainer").slider({
			
			min: 1,
			max: 3,
			value: 1,
			step:1
		});

		//How Much Convertibility Do You Want slider setup
		$("#convertibilitylidercontainer").slider({
			
			min: 1,
			max: 3,
			value: 1,
			step:1
		});

		//Selection Update button click
		$("#btnSelectionUpdate").click(function()
		{
			//define/initialize points array to zero scores
			var pointsArray = [0,0,0,0,0];
			
			//Soft Top array positions - 0 = SFHT; 1 = TTPro; 2 = TTGlide; 3 = TTPlus; 4 = SNX
			
			//create new object - adding product name info
			var myProductNameArray = ["Sunrider for Hardtop", "Trektop Pro", "Trektop NX Glide", "Trektop NX", "Supertop NX"];
			
			//Style Question
			//From JS Toggle library
			//get value of Style from toggle change - 0 = Slant-back / 1 = Traditional
			var varStyle = String($("#styletoggle").prop('checked'));
			
			//Slant-back style
			if (varStyle === 'false') //add to points array [0, 3, 5, 5, 0] - Slant-back
			{
				for (var i = 0; i < slantbackArray.length; i++)
				{
					pointsArray[i] += slantbackArray[i];
				}//end slantbackArray loop
				
			}//end Slant-back points
			
			//Traditional style
			if (varStyle === 'true') //add to points array [5, 2, 0, 0, 5] - Traditional
			{
				for (var i = 0; i < traditionalArray.length; i++)
				{
					pointsArray[i] += traditionalArray[i];
				}//end traditionalArray loop
			}//end Traditional points

			//Driving Question
			//Slider from jQuery UI library
			//Get value of Driving type question - 1 = Daily Driver / 2 = Weekender / 3 = Offroader
			var varDriving = $("#howdrivejeepslidercontainer").slider("value");

			//Daily Driver - add to points array [5, 5, 2, 2, 2]
			if (varDriving === 1)
			{
				for (var i = 0; i < dailydriverArray.length; i++)
				{
					pointsArray[i] += dailydriverArray[i];
				}//end dailydriverArray loop
			}

			//Weekender - add to points array [3, 3, 3, 3, 3]
			if (varDriving === 2)
			{
				for (var i = 0; i < weekenderArray.length; i++)
				{
					pointsArray[i] += weekenderArray[i];
				}//end dailydriverArray loop
			}

			//Offroader - add to points array [1, 1, 4, 5, 5]
			if (varDriving === 3)
			{
				for (var i = 0; i < offroaderArray.length; i++)
				{
					pointsArray[i] += offroaderArray[i];
				}//end offroaderArray loop
			}
			
			//Open Air Question
			//Slider from jQuery UI library
			//Get value of Open Air question - 1 = Not Important / 2 = Occasionally / 3 = Must Have
			var varConvertibility = $("#convertibilitylidercontainer").slider("value");
			
			//Not Important - add to points array [1, 1, 1, 1, 1]
			if (varConvertibility === 1)
			{
				for (var i = 0; i < convertibilitynotimportantArray.length; i++)
				{
					pointsArray[i] += convertibilitynotimportantArray[i];
				}//end convertibilitynotimportantArray loop
			}	

			//Occasionally - add to points array [0, 2, 3, 2, 3]
			if (varConvertibility === 2)
			{
				for (var i = 0; i < convertibilityoccasionallyArray.length; i++)
				{
					pointsArray[i] += convertibilityoccasionallyArray[i];
				}//end convertibilityoccasionallyArray loop
			}	
			
			//Must Fold Down - add to points array [0, 0, 5, 0, 5]
			if (varConvertibility === 3)
			{
				for (var i = 0; i < convertibilitymusthaveArray.length; i++)
				{
					pointsArray[i] += convertibilitymusthaveArray[i];
				}//end convertibilitymusthaveArray loop
			}

			//Geography/Climate Question
			//Slider from jQueryUI library
			//Get value of Geography/Climate question - 
			
			//Add code if/when this question is needed
			
			//Hardtop Question
			//Toggle from JS Toggle library
			//Get value from hardtop question - 0 = No / 1 = Yes
			var varHardtop = String($("#hardtoptoggle").prop('checked'));			
			//Remove Sunrider for Hardtop from list if true (array position 0)
			if (varHardtop === 'false')
			{
				//pop array position 0 (SFHT) off stack and shift results left 1
				pointsArray.shift();//points array
				myProductNameArray.shift();//product name array
			}

			/*var myResultsObject = [
				{name: "Sunrider for Hardtop", score: 10},
				{name: "Trektop Pro", score:15},
				{name: "Trektop NX Glide", score: 18},
				{name: "Trektop NX V2", score: 25},
				{name: "Supertop NX", score: 8}
			];*/
			
			var myResultsObject = [];
			
			//build output array
			for (var i = 0; i<myProductNameArray.length; i++)
			{
				object = {name: myProductNameArray[i], score: pointsArray[i]};
				myResultsObject.push(object);
			}
			
			//mySortedResultsObject = myResultsObject.sort(compare);
			//console.log (mySortedResultsObject);
			
			var mySortedResultsObject = myResultsObject.sort(compare);
			
			//build html output
			var myResultsHTML = '';
			//loop through myResultsObject
			for(var i = 0; i<mySortedResultsObject.length; i++)
			{
				myResultsHTML += '<p>' + mySortedResultsObject[i].name + ' - ' + mySortedResultsObject[i].score + '</p>';
			}

			$('#resultscontainer').html(myResultsHTML);
		}); //end selection update button click()
		
	});//jQuery load
	
	//custom function to help sort function sort descending
	function compare(a, b)
	{
		var scoreA = a.score;
		var scoreB = b.score;

		var comparison = 0;
		if (scoreA > scoreB){
			comparison = -1;
		} else if (scoreA < scoreB){
			comparison = 1;
		}
		return comparison;
	}
	</script>
    </body>
</html>
