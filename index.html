<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Bestop Soft Top Wizard</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

		<!-- jQuery UI CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.theme.min.css">
		
		<!-- Latest compiled and minified Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
		
		<!--Bootstrap Toggle CSS stylesheet-->
		<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">

        <style>


            body {
                margin: 0;
				padding: 0;
				max-width:1400px!important;
            }
			
			button {
				text-decoration: none;
			}
			
			.checkbox{
				margin:10px 0 0 30px;
			}
			
			.arrowholder{
				margin: 10px auto 0;
				text-align:center;
			}
			
			.arrowholder img{
				width:110px;
			}
			
			.container-fluid{
				padding-left:0!important;
				padding-right:0!important;
			}
			
			.card-header{
				border-bottom:none;
				background:url("img/wizard_header.jpg") no-repeat;
			}
			
			.card-header h5{
				font-size:22px;
				color:white;
				text-align:center;
			}
			
			.card-body{
				border-bottom:none;
				height:300px!important;
			}
			
			.collapse{
				background-color:lightgrey;
			}

			.sliderholder{
				padding: 10px 20px 0 20px;
				margin: 80px auto 0;
				background-color:rgba(0, 0, 0, 0.15);
			}
			
			.slidercontainer{
				border:1px solid black;
				margin:10px auto;
			}
			
			.slidertextholder{
				color:white;
				line-height:1.1em;
				margin-top:20px;
			}
			
			.slidertextholder li{
				float:left;
				list-style-type:none;
				margin:0 20px;
			}

			#btnSelectionUpdate{
				margin:20px;
			}
			
			#howdrivejeepimageholder{
				border:1px solid black;
				margin: 0 auto;
				width:300px;
			}
			
			#resultscontainer{
				margin:2% 10% 0 10%;
			}
			
			#resultscontainer h2{
				text-transform:uppercase;
				font-size:2.8em;
				font-weight:bold;
			}
			
			.productcontainer{
				float:left;
				margin:20px 0;
				border-bottom:2px solid black;
				padding-bottom:40px;
			}
			
			.productimage{
				width:30%;
				border:1px solid black;
				float:left;
				margin-right:20px;
			}
			
			.producttext{
				float:left;
				width:30%;
			}
			
			.producttext h3{
				text-transform:uppercase;
				font-weight:bold;
			}
			
			.dashed{
				list-style-type:none;
				margin-left: 0;
				padding-left: 20px;
			}
			
			.dashed > li:before{
				display:inline-block;
				content: "\2014";
				width: 22px;
				margin-left: -22px;
			}
			
			.btnlearnmore{
				background-color:#FCD40A;
				text-transform:uppercase;
			}
			
			.techfeaturesholder
			{
				margin-left:1em;
				border-left:1px solid black;
				float:left;
				width:27%;
				padding:1em;
			}
			
			#submitholder{
				text-align:center; 
				margin:0 auto;
				background-color:black;
				border-radius:0.25rem;
			}
			
			.clearboth{
				clear:both;
			}
			

			@media (min-width:100px) and (max-width:500px)
			{
				h5{
					font-size:1.0em!important;
				}
				
				.sliderholder{
					width:90%;
				}

				.slidertextholder{
					font-size:1.2em;
				}
				
				#bodyOne{
					background:url("img/wizard_hardtop_500x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyTwo{
					background:url("img/wizard_traditional_500x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyThree{
					background:url("img/wizard_weekend_500x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyFour{
					background:url("img/wizard_folded_500x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				.smalltext{
					font-size:14px;
				}
				
				#resultscontainer h2{
					font-size:1.0em!important;
				}
				
				.productimage{
					float:none;
					width:75%;
				}
				
				.producttext{
					float:none;
					width:95%;
				}
				
				.producttext h3{
					font-size:1em!important;
				}
				
				.producttext ul{
					font-size:0.6em;
				}
				
				.techfeaturesholder{
					float:none;
					font-size:0.6em;
					margin:0;
					width:100%;
				}
			}

			@media (min-width:501px) and (max-width:900px)
			{
				.sliderholder{
					width:80%;
				}

				.slidertextholder{
					font-size:1.4em;
				}
				
				#bodyOne{
					background:url("img/wizard_hardtop_900x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyTwo{
					background:url("img/wizard_traditional_900x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyThree{
					background:url("img/wizard_weekend_900x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyFour{
					background:url("img/wizard_folded_900x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				.smalltext{
					font-size:14px;
				}
				
				#resultscontainer h2{
					font-size:1.6em!important;
				}

				.productimage{
					float:none;
					width:50%;
				}
				
				.producttext{
					float:none;
					width:90%;
				}
				
				.producttext h3{
					font-size:1em!important;
				}

				.producttext ul{
					font-size:0.8em;
				}
				
				.techfeaturesholder{
					float:none;
					font-size:0.6em;
					margin:0
				}
			}		

			@media (min-width:901px) and (max-width:1200px)
			{
				.sliderholder{
					width:50%;
				}
				
				.slidertextholder{
					font-size:1.4em;
				}
				
				#bodyOne{
					background:url("img/wizard_hardtop_1200x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyTwo{
					background:url("img/wizard_traditional_1200x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyThree{
					background:url("img/wizard_weekend_1200x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyFour{
					background:url("img/wizard_folded_1200x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#resultscontainer h2{
					font-size:1.6em!important;
				}
				
				.producttext h3{
					font-size:1em!important;
				}

				.producttext ul{
					font-size:0.8em;
				}
			}
			
			@media (min-width:1201px) and (max-width:9999px)
			{
				.sliderholder{
					width:50%;
				}
				
				.slidertextholder{
					font-size:1.4em;
				}
				
				#bodyOne{
					background:url("img/wizard_hardtop_1406x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyTwo{
					background:url("img/wizard_traditional_1406x300.jpg") no-repeat!important;
					background-size:100%;
				}
				
				#bodyThree{
					background:url("img/wizard_weekend_1406x300.jpg") no-repeat!important;
					background-size:100%;
				}

				#bodyFour{
					background:url("img/wizard_folded_1406x300.jpg") no-repeat!important;
					background-size:100%;
				}				
			}
		</style>
		
		<!--jQuery JS-->
		<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
		
		<!--jQuery UI JS-->
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>

		<!--Bootstrap JS-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js"></script>
		
		<!--Bootstrap Toggle JS-->
		<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    </head>
    <body>
	<!--header image-->
	<img id="heroimg" class="img-fluid" src="img/wizard_header_1406x650.jpg">
 
    <div class="container-fluid">
		<div id="accordion">
			<!-- Question 1-->
			<div class="card">
				<div class="card-header" id="headingOne">
					<h5 class="mb-0">
						<div class="" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
							Do you have a factory hard top now?
						</div>
					</h5>
				</div>

				<div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
					<div class="card-body img-fluid img-responsive" id="bodyOne">
						<div class="sliderholder">
							<div id="hardtopyesnoslidercontainer" class="slidercontainer"></div>
							<div id="hardtopyesnoslidertextholder" class="slidertextholder">
									<span>No</span>
									<span style="float:right">Yes</span>
							</div>
							<div class="arrowholder">
								<img id="downarrowOne" src="img/wizard_nextbutton_195x105.png"/>
							</div>
						</div>
						
					</div><!-- /card-body-->
				</div>
			</div><!-- /question 1 card-->
		  
			<!--Question 2-->
			<div class="card">
				<div class="card-header" id="headingTwo">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
							Which style of top do you prefer?
						</div>
					</h5>
				</div>
				
				<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
					<div class="card-body" id="bodyTwo">
						<div class="sliderholder">
							<div id="styleslidercontainer" class="slidercontainer"></div>
							<div id="styleslidertextholder" class="slidertextholder">
								<span>Traditional</span>
								<span style="float:right">Fast-Back</span>
							</div>
							<div class="arrowholder">
								<img id="downarrowTwo" src="img/wizard_nextbutton_195x105.png"/>
							</div>
						</div>
					</div><!-- /card-body-->
				</div>
			</div><!-- /question 2 card-->
		  
			<!--Question 3-->
			<div class="card">
				<div class="card-header" id="headingThree">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
							How do you use your Jeep?
						</div>
					</h5>
				</div>
				<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
					<div class="card-body" id="bodyThree">
						<div class="sliderholder">
							<div id="howdrivejeepslidercontainer" class="slidercontainer"></div>
							<div id="howdrivejeepslidertextholder" class="slidertextholder smalltext">
								<span style="text-align:center; width:33%;float:left">Daily<br/> Driver</span>
								<span style="text-align:center; width:33%;float:left">Weekend <br/>Vehicle</span>
								<span style="text-align:center; width:33%;float:left">Off-road<br/> Only</span>
							</div>
							<div class="arrowholder" style="margin-top:100px">
								<img id="downarrowThree" src="img/wizard_nextbutton_195x105.png"/>
							</div>
						</div>

					</div>
				</div>
			</div><!-- /question 3 card-->

			<!--Question 4-->
			<div class="card">
				<div class="card-header" id="headingFour">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
							<!--How important is it to you to fully open the soft top?-->
							Does the soft top have to fold down?
						</div>
					</h5>
				</div>
				<div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
					<div class="card-body" id="bodyFour">
						<div class="sliderholder">
							<div id="convertibilityslidercontainer" class="slidercontainer"></div>
							<div id="convertibilitylidertextholder" class="slidertextholder smalltext" style="min-height:90px">
								<span style="text-align:center; width:33%;float:left">Not Important</span>
								<span style="text-align:center; width:33%;float:left">I might take the roof off occasionally</span>
								<span style="text-align:center; width:33%;float:left">It has to fold down!</span>
							</div>
							<!-- Add this back in when question 5 becomes live
							<div class="arrowholder">
								<img id="downarrowFour" src="img/downarrow.png"/>
							</div>-->
						</div>
						<br/>
						
				</div>
			</div><!-- /question 4 card-->


			<!--Question 5 - Not currently in use-->
			<!--<div class="card">
				<div class="card-header" id="headingFour">
					<h5 class="mb-0">
						<div class="collapsed" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
							<!--Question TBD
							Does the soft top have to fold down?
						</div>
					</h5>
				</div>
				<div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordion">
					<div class="card-body" id="bodyFive">
						<div class="sliderholder">
							<div id="convertibilityslidercontainer" class="slidercontainer"></div>
							<div id="convertibilitylidertextholder" class="slidertextholder smalltext" style="min-height:90px">
								<span style="text-align:center; width:33%;float:left">TBD</span>
								<span style="text-align:center; width:33%;float:left">TBD</span>
								<span style="text-align:center; width:33%;float:left">TBD</span>
							</div>
							
							<div class="arrowholder">
								<img id="downarrowFour" src="img/downarrow.png"/>
							</div>
						</div>
						<br/>
						<div style="text-align:center; margin:0 auto;"><button id="btnSelectionUpdate" type="button" class="btn">Submit</button></div>
					</div>
				</div>
			</div><!-- /card-->
		</div><!-- /accordion-->
		
		<div id="submitholder"><button id="btnSelectionUpdate" type="button" class="btn">Submit</button></div>
		</div>


		<!--results container-->
		<div id="resultscontainer">
			
		</div><!--/resultscontainer-->
    </div> <!-- /container-fluid -->        
	<script>	
	
	//Soft Top array positions - 0 = SFHT; 1 = TTPro; 2 = TTGlide; 3 = TTPlus; 4 = SNX
	//define style
	//define slant-back array
	//var slantbackArray = [0,6,10,9,1];
	var slantbackArray = [0,9,15,13,2];
	//define traditional array
	//var traditionalArray = [9,4,1,0,10];
	var traditionalArray = [13,6,2,0,15];
	
	//drive type
	//var daily driver array
	var dailydriverArray = [10,9,5,3,7];
	//var weekender array
	var weekenderArray = [0,5,7,8,6];
	//var offroader array
	var offroaderArray = [-5,1,4,8,9];
	
	//open air
	//var open air - not important array
	var convertibilitynotimportantArray = [0,0,1,1,1];
	//var open air - occasionally array
	var convertibilityoccasionallyArray = [-7,3,8,4,7];
	//var open air - must have array
	var convertibilitymusthaveArray = [-10,0,15,0,13];
	
	//climate/geography
	//var climate - I want to be comfortable year-round
	var climatecomfortable = [0,0,0,0,0];
	//var climate - I'm OK with some hot/cold/rain/snow
	var climatesomeweather = [0,0,0,0,0];
	//var climate - I don't care if I experience weather extremes
	var climateextreme = [0,0,0,0,0];
	
	$(document).ready(function(){
		//start quiz - hero image click
		$("#heroimg").click(function(){
			$("#collapseOne").collapse('show');
		});
	
		//test slider setup
		$("#testslidercontainer").slider({
			
			min: 1,
			max: 2,
			value: 1,
			step:1
		});
		
		//How Do You Drive Your Jeep slider setup
		$("#hardtopyesnoslidercontainer").slider({
			
			min: 1,
			max: 2,
			value: 1,
			step:1
		});

		//Style of top slider setup
		$("#styleslidercontainer").slider({
			
			min: 1,
			max: 2,
			value: 1,
			step:1
		});
		
		//How drive Jeep slider setup
		$("#howdrivejeepslidercontainer").slider({
			
			min: 1,
			max: 3,
			value: 1,
			step:1
		});
		
		//How drive Jeep slider setup
		$("#convertibilityslidercontainer").slider({
			
			min: 1,
			max: 3,
			value: 1,
			step:1
		});
		
		
		//Make down arrow close current collapse section and expand next collapse section
		$("#downarrowOne").click(function()
		{
		
			//$("#collapseOne").collapse('hide');
			$("#collapseTwo").collapse('show');
		});
		
		$("#downarrowTwo").click(function()
		{
		
			//$("#collapseOne").collapse('toggle');
			$("#collapseThree").collapse('show');
		});
		
		
		$("#downarrowThree").click(function()
		{
		
			//$("#collapseThree").collapse('hide');
			$("#collapseFour").collapse('show');
		});
		
		//Selection Update button click
		$("#btnSelectionUpdate").click(function()
		{
			//define/initialize points array to zero scores
			var pointsArray = [0,0,0,0,0];
			
			//Soft Top array positions - 0 = SFHT; 1 = TTPro; 2 = TTGlide; 3 = TTNXBase; 4 = STNX
			
			//create new object - adding product name info
			var myProductNameArray = ["Sunrider for Hardtop", "Trektop Pro", "Trektop NX Glide", "Trektop NX", "Supertop NX In Twill Fabric"];
			
			//create new product object array
			var myProductObjectArray = 
			[
			{
				name:"Sunrider for Hardtop",
				htmldescription:"<ul class='dashed'><li>Adds a sunroof panel to your factory JK hard top for front seat passengers</li><li>In-seat operation&mdash;opens in less than 30 seconds</li><li>Great for urban areas&mdash;most secure option</li><li>Great for daily driven Wranglers</li><li>Full access to rear cargo area in seconds</li><li>Best for sound insulation</li><li>Easiest installation</li></ul>", 
				imageURL:"img/sfht.jpg", 
				techfeatureimageURL: "img/wizard_installicon_easy.jpg",
				availableoptions: "<ul class='dashed'><li>17 - Black Twill</li><li>35 - Black Diamond</li></ul>",
				landingURL: "https://www.bestop.com/sunrider-for-hardtop"
			},
			{
				name:"Trektop Pro",
				htmldescription:"<ul class='dashed'><li>Only soft top to feature rear glass windows</li><li>Easy to operate Sunrider sunroof feature for front passengers</li><li>Zipperless design&mdash;reliable and easy to use</li><li>Great for daily driven Wranglers</li><li>Full access to rear cargo area in seconds</li><li>Great sound insulation</li><li>Most difficult installation</li></ul>", 
				imageURL:"img/ttpro.jpg",
				techfeatureimageURL: "img/wizard_installicon_easy.jpg",
				availableoptions: "<ul class='dashed'><li>17 - Black Twill</li><li>68 - Crushed Red Pepper Twill</li><li>69 - Navy Blue Twill</li><li>70 - Granite Grey Twill</li><li>71 - Oak Tan Twill</li><li>74 - Pebble Beige Twill</li></ul>",
				landingURL: "https://www.bestop.com/trektop-pro-hybrid-soft-top"
			},
			{
				name:"Trektop NX Glide", 
				htmldescription:"<ul class='dashed'><li>Fully convertible soft top</li><li>Sunrider sunroof feature for front and rear passengers</li><li>Limited access to rear cargo area</li><li>Good sound insulation</li><li>Average difficulty installation</li></ul>", 
				imageURL:"img/nxglide.jpg", 
				techfeatureimageURL: "img/wizard_installicon_expert.jpg",
				availableoptions: "<ul class='dashed'><li>17 - Black Twill</li><li>68 - Crushed Red Pepper Twill</li><li>69 - Navy Blue Twill</li><li>70 - Granite Grey Twill</li><li>71 - Oak Tan Twill</li><li>74 - Pebble Beige Twill</li></ul>",
				landingURL: "https://www.bestop.com/new-trektop-nx-glide-convertible-soft-top"
			},
			{
				name:"Trektop NX", 
				htmldescription:"<ul class='dashed'><li>Fastback styling with angled back for that modern style</li><li>Top arch bar provides a tight fit to reduce flapping and minimize puddling</li><li>Our best multi-layer, premium fabric maintains its shape in all temperatures</li><li>With windows removed, it functions as a Safari Bikini top</li><li>Tinted windows provide protection from the sun</li></ul>", 
				imageURL:"img/ttnx.jpg", 
				techfeatureimageURL: "img/wizard_installicon_moderate.jpg",
				availableoptions: "<ul class='dashed'><li>17 - Black Twill</li><li>68 - Crushed Red Pepper Twill</li><li>69 - Navy Blue Twill</li><li>70 - Granite Grey Twill</li><li>71 - Oak Tan Twill</li><li>74 - Pebble Beige Twill</li></ul>",
				landingURL: "https://www.bestop.com/new-trektop-nx-plus-soft-top"
			},
			{
				name:"Supertop NX", 
				htmldescription:"<ul class='dashed'><li>Exclusive Sunrider feature</li><li>Premium 28-oz. multi-layer fabric has excellent durability and appearance</li><li>Top arch bars and factory-style door surrounds</li><li>Tinted side and rear windows</li><li>Premium hardware is powder-coated for corrosion and scratch resistance</li></ul>", 
				imageURL:"img/stnx.jpg", 
				techfeatureimageURL: "img/wizard_installicon_moderate.jpg",
				availableoptions: "<ul class='dashed'><li>01 - Black</li><li>15 - Black Denim</li><li>17 - Black Twill</li><li>35 - Black Diamond</li><li>37 - Spice</li><li>68 - Crushed Red Pepper Twill</li><li>69 - Navy Blue Twill</li><li>70 - Granite Grey Twill</li><li>71 - Oak Tan Twill</li><li>74 - Pebble Beige Twill</li></ul>",
				landingURL: "https://www.bestop.com/supertop-nx-soft-top-2"
			}

			]; //end myProductObject

			//Style Question
			//From JS Toggle library
			//get value of Style from toggle change - 0 = Slant-back / 1 = Traditional
			var varStyle = Number($("#styleslidercontainer").slider('option', 'value'));
			
		
			
			console.log('style:' + varStyle);
			
			//Slant-back style
			if (varStyle === 'false') //add to points array [0, 3, 5, 5, 0] - Slant-back
			{
				for (var i = 0; i < slantbackArray.length; i++)
				{
					pointsArray[i] += slantbackArray[i];
				}//end slantbackArray loop
				
			}//end Slant-back points
			
			//Traditional style
			if (varStyle === 'true') //add to points array [5, 2, 0, 0, 5] - Traditional
			{
				for (var i = 0; i < traditionalArray.length; i++)
				{
					pointsArray[i] += traditionalArray[i];
				}//end traditionalArray loop
			}//end Traditional points

			//Driving Question
			//Slider from jQuery UI library
			//Get value of Driving type question - 1 = Daily Driver / 2 = Weekender / 3 = Offroader
			var varDriving = Number($("#howdrivejeepslidercontainer").slider('option', 'value'));
			
			console.log('driving:' + varDriving);

			//Daily Driver - add to points array [5, 5, 2, 2, 2]
			if (varDriving === 1)
			{
				for (var i = 0; i < dailydriverArray.length; i++)
				{
					pointsArray[i] += dailydriverArray[i];
				}//end dailydriverArray loop
			}

			//Weekender - add to points array [3, 3, 3, 3, 3]
			if (varDriving === 2)
			{
				for (var i = 0; i < weekenderArray.length; i++)
				{
					pointsArray[i] += weekenderArray[i];
				}//end dailydriverArray loop
			}

			//Offroader - add to points array [1, 1, 4, 5, 5]
			if (varDriving === 3)
			{
				for (var i = 0; i < offroaderArray.length; i++)
				{
					pointsArray[i] += offroaderArray[i];
				}//end offroaderArray loop
			}
			
			//Open Air Question
			//Slider from jQuery UI library
			//Get value of Open Air question - 1 = Not Important / 2 = Occasionally / 3 = Must Have
			var varConvertibility = Number($("#convertibilityslidercontainer").slider('option', 'value'));
			
			console.log("convertibility: " + varConvertibility);
			
			//Not Important - add to points array [1, 1, 1, 1, 1]
			if (varConvertibility === 1)
			{
				for (var i = 0; i < convertibilitynotimportantArray.length; i++)
				{
					pointsArray[i] += convertibilitynotimportantArray[i];
				}//end convertibilitynotimportantArray loop
			}	

			//Occasionally - add to points array [0, 2, 3, 2, 3]
			if (varConvertibility === 2)
			{
				for (var i = 0; i < convertibilityoccasionallyArray.length; i++)
				{
					pointsArray[i] += convertibilityoccasionallyArray[i];
				}//end convertibilityoccasionallyArray loop
			}	
			
			//Must Fold Down - add to points array [0, 0, 5, 0, 5]
			if (varConvertibility === 3)
			{
				for (var i = 0; i < convertibilitymusthaveArray.length; i++)
				{
					pointsArray[i] += convertibilitymusthaveArray[i];
				}//end convertibilitymusthaveArray loop
			}

			//Geography/Climate Question
			//Slider from jQueryUI library
			//Get value of Geography/Climate question - 
			
			//Add code if/when this question is needed
			
			//Hardtop Question
			//Toggle from JS Toggle library
			//Get value from hardtop question - 0 = No / 1 = Yes
			var varHardtop = Number($("#hardtopyesnoslidercontainer").slider('option', 'value'));
			
			console.log('hardtop: ' + varHardtop);
			
			//Remove Sunrider for Hardtop from list if hardtop question is true (array position 0)
			if (varHardtop === 'false')
			{
				//pop array position 0 (SFHT) off stack and shift results left 1
				pointsArray.shift();//points array
				myProductNameArray.shift();//product name array
			}

			/*Test array
			var myResultsObject = [
				{name: "Sunrider for Hardtop", score: 10},
				{name: "Trektop Pro", score:15},
				{name: "Trektop NX Glide", score: 18},
				{name: "Trektop NX V2", score: 25},
				{name: "Supertop NX", score: 8}
			];*/
			
			var myResultsObject = [];
			
			//build output array
			for (var i = 0; i<myProductNameArray.length; i++)
			{
				object = {name: myProductObjectArray[i].name, productimg: myProductObjectArray[i].imageURL, text: myProductObjectArray[i].htmldescription, techimg: myProductObjectArray[i].techfeatureimageURL, availableoptions:myProductObjectArray[i].availableoptions, landingurl: myProductObjectArray[i].landingURL, score: pointsArray[i]};
				myResultsObject.push(object);
			}
			
			//console.log (mySortedResultsObject);//output results object before sort
			
			var mySortedResultsObject = myResultsObject.sort(compare);//sort descending using compare()
			
			//console.log(mySortedResultsObject);//output results object after sort
			
			//build html output
			//Title
			var myResultsHTML = '<h2>Bestop Recommendations:</h2>';
			//loop through myResultsObject
			for(var i = 0; i<mySortedResultsObject.length; i++)
			{
				//calculate match percentage - product score / highest product score
				myProductScore = Math.round(mySortedResultsObject[i].score / mySortedResultsObject[0].score*100);
				if (myProductScore<0){myProductScore=0};//if product score is negative number, set to zero
				//console.log(mySortedResultsObject[i].score);
				//console.log(myProductScore);
				//build individual results container html
				//myResultsHTML += '<p>' + mySortedResultsObject[i].name + ' - ' + mySortedResultsObject[i].score + '</p>';
				myResultsHTML += '<div class="productcontainer"><span style="clear:both"><img class="productimage" src="' + mySortedResultsObject[i].productimg + '"/></span>' + '<div class="producttext"><h3>' + mySortedResultsObject[i].name + '<br/><span style="font-size:0.6em">' + myProductScore + '% match</h3>' + mySortedResultsObject[i].text + '</span></div><div class="techfeaturesholder"><img class="techfeaturesimage" src="' + mySortedResultsObject[i].techimg + '"/><br>Color Options: ' + mySortedResultsObject[i].availableoptions + '</div>' + '<div class="text-center clearboth"><a href="' + mySortedResultsObject[i].landingurl + '" target=\"_blank\"><button type="button" class="btn btnlearnmore">Learn More</button></a></div></div>';
				
			}

			$('#resultscontainer').html(myResultsHTML);
		}); //end selection update button click()
		
	});//jQuery load
	
	//custom function to help sort function sort descending
	function compare(a, b)
	{
		var scoreA = a.score;
		var scoreB = b.score;

		var comparison = 0;
		if (scoreA > scoreB){
			comparison = -1;
		} else if (scoreA < scoreB){
			comparison = 1;
		}
		return comparison;
	}
	</script>
    </body>
</html>
